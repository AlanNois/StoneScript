/*
Copyright © 2019-2022, Matjaž Guštin
<dev@matjaz.it> <https://matjaz.it>
Released under the BSD 3-clause license.

Level: Mushroom Forest
*/

var loadouts = import my/loadouts

// Apply health potion on low health.
?hp < 8
  activate potion

?loc = fungus_forest

  // Heal and gain armor while just walking
  ?target = waypoint |
  ^ foe.distance > 20  // range of staff
    loadouts.shield_ouroboros()
  :
    loadouts.poison_staff()

?loc = fungus_forest_boss
  // Boss, all of them
  ?foe.armor > 0
    ?foe.distance > 5
      loadouts.dashing()
    :
      loadouts.armor_piercing()
  :
    loadouts.poison_staff()
